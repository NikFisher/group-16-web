{"remainingRequest":"/Users/nicholasfisher/group-16-web/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nicholasfisher/group-16-web/client/src/views/Battlefield.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nicholasfisher/group-16-web/client/src/views/Battlefield.vue","mtime":1571215255121},{"path":"/Users/nicholasfisher/group-16-web/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nicholasfisher/group-16-web/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport { Api } from '@/Api'\nimport PlayerItem from '@/components/PlayerItem' \nimport BossItem from '@/components/BossItem'\n\n\nexport default {\n  name: 'battlefield',\n  data() {\n    return {\n      player: '',\n      bosses: [],\n      currentBoss: '',\n      bossIndex: 0,\n      playerImage: '/img/Janitor.351c7067.png',\n      bossHpBar: 0,\n      userHpBar: {\n      width: \"100%\"\n      },\n    opponentHpBar: {\n    width: \"100%\"\n  },\n      variants: [\n        {\n          variantImage: require('../assets/Janitor.png')\n        },\n        {\n          variantImage: require('../assets/Janitor2.jpeg')\n        }\n      ]\n      \n    }\n  },\n  computed: {\n    image() {\n      if (this.player.damage >= 500) {\n        return this.variants[1].variantImage\n      }\n      return this.variants[0].variantImage\n    }\n  },\n  mounted() {\n    this.getPlayer()\n    this.getBoss()\n    this.getBossHpBar()\n    this.checkDead()\n    this.getUserHpBar()\n  },\n  methods: {\n    getBoss() {\n      Api.get('/bosses')\n        .then(response => {\n          this.bosses = response.data.Boss\n          this.currentBoss = this.bosses[this.bossIndex]\n        })\n        .catch(error => {\n          this.bosses = error\n        })\n    },\n    getPlayer() {\n      Api.get('/players/1')\n        .then(response => {\n          this.player = response.data\n        })\n        .catch(error => {\n          this.player = error\n        })\n    },\n    getBossHpBar(){\n        \n          \n          if (this.currentBoss.damage === 200){\n             this.bossHpBar = (this.currentBoss.health / 4) \n          }\n         else if(this.currentBoss.damage === 50){\n            this.bossHpBar = (this.currentBoss.health / 3) \n         }\n         else {\n           this.bossHpBar = (this.currentBoss.health / 2) \n         }\n\n        if(this.bossHpBar<0){\n            this.bossHpBar = 0\n        }\n\n          \n        \n        \n    },\n    attackBoss(){\n      //Alert to show \n    \n      alert(\"You attacked the boss \"+ this.player.damage + \" damage\" + \"\\n\"\n      + this.currentBoss.name+ \" strikes you back\")\n        \n        //each attack\n        this.currentBoss.health = this.currentBoss.health - this.player.damage\n        if(this.currentBoss.damage>this.player.defense){\n          this.player.health = this.player.health - (this.currentBoss.damage-this.player.defense)\n        }\n        \n        this.getBossHpBar()\n        //adjust player hp bar\n        this.player.width = this.player.health + \"%\"\n        //adjust opponent hp bar\n        this.opponentHpBar.width = this.bossHpBar + \"%\"\n      \n        // check for victory\n      if (this.currentBoss.health == 0 || this.currentBoss.health < 0){\n        alert(\"You won the battle! Click home to fight another boss\" )\n          this.currentBoss.health = 0\n          \n        //Insert a Delete request to delete the boss \n\n        Api.delete('/bosses/'+ this.currentBoss._id)\n          .then(response => {\n\n            this.bosses.splice(this.bossIndex, 1)\n            this.bossIndex = (this.bossIndex + 1) \n            \n          }\n          )\n          .catch(error => {\n            console.log(error)\n          })\n      }\n\n      //Check for defeat \n\n      else if (this.player.health === 0||this.player.health < 0){\n          alert(this.player.name + \". You have been defeated, you recieve 0$\" + \"\\n\"\n          + \"Find the spirit healer and resurrect\")\n          this.player.dead=true\n          this.player.health = 1\n          this.player.width = \"1%\"\n\n          //patch player hp to 0\n\n          Api.patch('/players/1', this.player)\n              .then(response => {\n                \n              })\n              .catch(error => {\n                console.log(error)\n              })\n      }\n     \n    },\n    winGame(){\n      if (this.bosses.length == 0) {\n      alert(this.player.name + \"! You have defeated all bosses!! You won the game\");\n      }\n    }\n    \n     \n  },\n  components: [{\n    PlayerItem,BossItem\n  }]\n  \n}\n\n",{"version":3,"sources":["Battlefield.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA","file":"Battlefield.vue","sourceRoot":"src/views","sourcesContent":["\n<!-- eslint-disable -->\n<template>\n<div class=\"battle-scene\">\n   <div class=\"box-top-left\">\n     <h2 class=\"pokemon\">{{ currentBoss.name }}</h2>\n     <div class=\"hp-bar-top\">\n       <div v-bind:style=\"opponentHpBar\" class=\"hp-bar-fill\"></div>\n     </div>\n     <h4 class=\"level\">Hp: {{ currentBoss.health }}</h4>\n     <h4 class=\"hp\">Dmg: {{ currentBoss.damage}}</h4>\n   </div>\n   <div class=\"box-top-right\">\n     <img v-bind:src=\"currentBoss.image\"  class=\"pokemon-top\" />\n   </div>\n    <div class=\"box-bottom-left\">\n      <img v-bind:src= \"image\" class=\"pokemon-bottom\" />\n   </div>\n   <div class=\"box-bottom-right\">\n      <h2 class=\"pokemon\">{{ player.name }}</h2>\n     <div class=\"hp-bar-bottom\">\n       <div v-bind:style=\"player\" class=\"hp-bar-fill\"></div>\n     </div>\n     <h4 class=\"level\">damage:{{player.damage}} / defense: {{player.defense}}</h4>\n     <h4 class=\"hp\">{{player.health}}/100</h4>\n   </div>\n   <div class=\"bottom-menu\">\n     <div class=\"battle-text text-box-left\">What will {{this.player.name}} do?\n     </div>\n       <div class=\"text-box-right\">\n         <h4 class=\"battle-text-top-left\"></h4>\n          <button :disabled=\"this.player.dead==true||this.currentBoss.health<0 || this.currentBoss.health == 0\" v-on:click=\"attackBoss()\">Attack</button>\n         <h4 class=\"battle-text-bottom-left\"></h4>\n         <h4 class=\"battle-text-top-right\"></h4>\n           <b-button variant=\"primary\" href=\"/\" v-on:click=\"winGame()\">Exit fight</b-button>\n         <h4 class=\"battle-text-bottom-right\"></h4>   \n     </div>\n   </div>\n   \n \n </div> \n  <!-- end battle scene -->\n \n</template>\n\n<script>\n/* eslint-disable */\nimport { Api } from '@/Api'\nimport PlayerItem from '@/components/PlayerItem' \nimport BossItem from '@/components/BossItem'\n\n\nexport default {\n  name: 'battlefield',\n  data() {\n    return {\n      player: '',\n      bosses: [],\n      currentBoss: '',\n      bossIndex: 0,\n      playerImage: '/img/Janitor.351c7067.png',\n      bossHpBar: 0,\n      userHpBar: {\n      width: \"100%\"\n      },\n    opponentHpBar: {\n    width: \"100%\"\n  },\n      variants: [\n        {\n          variantImage: require('../assets/Janitor.png')\n        },\n        {\n          variantImage: require('../assets/Janitor2.jpeg')\n        }\n      ]\n      \n    }\n  },\n  computed: {\n    image() {\n      if (this.player.damage >= 500) {\n        return this.variants[1].variantImage\n      }\n      return this.variants[0].variantImage\n    }\n  },\n  mounted() {\n    this.getPlayer()\n    this.getBoss()\n    this.getBossHpBar()\n    this.checkDead()\n    this.getUserHpBar()\n  },\n  methods: {\n    getBoss() {\n      Api.get('/bosses')\n        .then(response => {\n          this.bosses = response.data.Boss\n          this.currentBoss = this.bosses[this.bossIndex]\n        })\n        .catch(error => {\n          this.bosses = error\n        })\n    },\n    getPlayer() {\n      Api.get('/players/1')\n        .then(response => {\n          this.player = response.data\n        })\n        .catch(error => {\n          this.player = error\n        })\n    },\n    getBossHpBar(){\n        \n          \n          if (this.currentBoss.damage === 200){\n             this.bossHpBar = (this.currentBoss.health / 4) \n          }\n         else if(this.currentBoss.damage === 50){\n            this.bossHpBar = (this.currentBoss.health / 3) \n         }\n         else {\n           this.bossHpBar = (this.currentBoss.health / 2) \n         }\n\n        if(this.bossHpBar<0){\n            this.bossHpBar = 0\n        }\n\n          \n        \n        \n    },\n    attackBoss(){\n      //Alert to show \n    \n      alert(\"You attacked the boss \"+ this.player.damage + \" damage\" + \"\\n\"\n      + this.currentBoss.name+ \" strikes you back\")\n        \n        //each attack\n        this.currentBoss.health = this.currentBoss.health - this.player.damage\n        if(this.currentBoss.damage>this.player.defense){\n          this.player.health = this.player.health - (this.currentBoss.damage-this.player.defense)\n        }\n        \n        this.getBossHpBar()\n        //adjust player hp bar\n        this.player.width = this.player.health + \"%\"\n        //adjust opponent hp bar\n        this.opponentHpBar.width = this.bossHpBar + \"%\"\n      \n        // check for victory\n      if (this.currentBoss.health == 0 || this.currentBoss.health < 0){\n        alert(\"You won the battle! Click home to fight another boss\" )\n          this.currentBoss.health = 0\n          \n        //Insert a Delete request to delete the boss \n\n        Api.delete('/bosses/'+ this.currentBoss._id)\n          .then(response => {\n\n            this.bosses.splice(this.bossIndex, 1)\n            this.bossIndex = (this.bossIndex + 1) \n            \n          }\n          )\n          .catch(error => {\n            console.log(error)\n          })\n      }\n\n      //Check for defeat \n\n      else if (this.player.health === 0||this.player.health < 0){\n          alert(this.player.name + \". You have been defeated, you recieve 0$\" + \"\\n\"\n          + \"Find the spirit healer and resurrect\")\n          this.player.dead=true\n          this.player.health = 1\n          this.player.width = \"1%\"\n\n          //patch player hp to 0\n\n          Api.patch('/players/1', this.player)\n              .then(response => {\n                \n              })\n              .catch(error => {\n                console.log(error)\n              })\n      }\n     \n    },\n    winGame(){\n      if (this.bosses.length == 0) {\n      alert(this.player.name + \"! You have defeated all bosses!! You won the game\");\n      }\n    }\n    \n     \n  },\n  components: [{\n    PlayerItem,BossItem\n  }]\n  \n}\n\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css?family=Roboto+Condensed');\n\n@import url('https://fonts.googleapis.com/css?family=PT+Sans+Narrow');\n\nhtml,body{\n  height: 100%;\n  background: #3C7ACD;\n}\nbody {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.title{\n  position: relative;\n  margin-top: 10px;\n  color: white;\n  text-align: center;\n  font-size: 28px;\n  text-transform: uppercase;\n  font-family: \"Roboto Condensed\";\n}\n\n.battle-scene{\n  position: relative;\n  margin: auto;\n  display: block;\n  margin-top: 3%;\n  width: 1280px;\n  height: 800px;\n  background: #F8F8F8;\n  z-index: 1;\n}\n\n.box-top-left{\n  position: absolute;\n  width: 40%;\n  height: 15%;\n  border-radius: 10px;\n  top: 8%;\n  left: 8%;\n  background: #F8F8D8;\n  border: 6px solid #506860;\n}\n\n.hp-bar-top{\n  position: absolute;\n  bottom: 16%;\n  height: 20%;\n  width: 70%;\n  left: 10%;\n  border-radius: 20px;\n  background: grey;\n  opacity: 0.5;\n}\n\n.hp-bar-bottom{\n  position: absolute;\n  bottom: 32%;\n  height: 20%;\n  width: 70%;\n  left: 10%;\n  border-radius: 20px;\n  background: grey;\n  opacity: 0.5;\n}\n\n.hp-bar-fill{\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border-radius: 20px;\n  background: #FF8800;\n}\n\n.box-top-right{\n  position: absolute;\n  width: 40%;\n  height: 25%;\n  border-radius: 50%;\n  top: 25%;\n  right: 8%;\n  background: #E0E0E0;\n}\n\n.pokemon-top{\n  height: 150%;\n  width: 50%;\n  position: absolute;\n  top: -80%;\n  left: 25%;\n}\n\n.pokemon-bottom{\n  height: 150%;\n  width: 50%;\n  position: absolute;\n  top: -75%;\n  left: 25%;\n}\n\n\n.box-bottom-left{\n position: absolute;\n  width: 40%;\n  height: 25%;\n  border-radius: 50%;\n  bottom: 15%;\n  left: 8%;\n  background: #E0E0E0;\n}\n\n.box-bottom-right{\n  position: absolute;\n  width: 38%;\n  height: 20%;\n  border-radius: 10px;\n  bottom:20%;\n  right: 8%;\n  background: #F8F8D8;\n  border: 6px solid #506860;\n  z-index: 2;\n}\n\n.pokemon{\n  text-align: left;\n  margin-left: 10%;\n  margin-top: 5%;\n  opacity: 0.7;\n  font-size: 18px;\n  font-family: \"Roboto Condensed\";\n}\n\n.level{\n  position: absolute;\n  right: 8%;\n  top: -2%;\n  opacity: 0.7;\n  font-size: 16px;\n  font-family: \"Roboto Condensed\";\n}\n\n.hp{\n  position: absolute;\n  right: 8%;\n  bottom: 20%;\n  opacity: 0.7;\n  font-size: 16px;\n  font-family: \"Roboto Condensed\";\n}\n\n.bottom-menu{\n  position: absolute;\n  width: 98%;\n  bottom: 0%;\n  height: 19%;\n  background: #285068;\n  z-index: 1;\n  border: solid 6px #CEB46D;\n}\n\n.text-box-left{\n  position: absolute;\n  width: 50%;\n  left: 0%;\n  height: 95%;\n  \n}\n\n.text-box-right{\n  position: absolute;\n  width: 40%;\n  top: -6%;\n  right: -1%;\n  height: 98%;\n  background: #F8F8F8;\n  border: solid 6px #6F677F;\n  \n}\n\n.battle-text{\n  margin-top: 3%;\n  margin-left: 5%;\n  opacity: 0.95;\n  font-size: 18px;\n  color: white;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n}\n\n.battle-text-top-left{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 22px;\n  color: #333333;\n  top: -30%;\n  left: 10%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-bottom-left{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 22px;\n  color: #333333;\n  bottom: -30%;\n  left: 10%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-top-right{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 22px;\n  color: #333333;\n  top: -30%;\n  right: 21%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-bottom-right{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 22px;\n  color: #333333;\n  bottom: -30%;\n  right: 20%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n} \n\n@media all and (max-width: 600px) {\n .battle-scene{\n  position: relative;\n  margin: auto;\n  display: block;\n  margin-top: 3%;\n  width: 400px;\n  height: 280px;\n  background: #F8F8F8;\n  z-index: 1;\n}\n  \n  .title{\n  position: absolute;\n  top: -33%;\n  left: 7.5%;\n  color: white;\n  text-align: center;\n  font-size: 22px;\n  text-transform: uppercase;\n  font-family: \"Roboto Condensed\";\n}\n  \n  .pokemon{\n  text-align: left;\n  margin-left: 11%;\n  margin-top: 5%;\n  opacity: 0.7;\n  font-size: 14px;\n  font-family: \"Roboto Condensed\";\n}\n  \n  \n.level{\n  position: absolute;\n  right: 5%;\n  top: -13%;\n  opacity: 0.7;\n  font-size: 10px;\n  font-family: \"Roboto Condensed\";\n}\n  \n  .hp{\n  position: absolute;\n  right: 8%;\n  bottom: -20%;\n  opacity: 0.7;\n  font-size: 11px;\n  font-family: \"Roboto Condensed\";\n}\n  \n  \n.battle-text-top-left{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 14px;\n  color: #333333;\n  top: -30%;\n  left: 10%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-bottom-left{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 14px;\n  color: #333333;\n  bottom: -30%;\n  left: 10%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-top-right{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 14px;\n  color: #333333;\n  top: -30%;\n  right: 21%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n}\n\n.battle-text-bottom-right{\n  opacity: 0.95;\n  position: absolute;\n  font-size: 14px;\n  color: #333333;\n  bottom: -30%;\n  right: 20%;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n  cursor: pointer;\n} \n  \n  .battle-text{\n  margin-top: 1%;\n  margin-left: 5%;\n  opacity: 0.95;\n  font-size: 10px;\n  color: white;\n  text-align: left;\n  font-family: \"PT Sans Narrow\";\n}\n\n\n\n}\n\n</style>"]}]}